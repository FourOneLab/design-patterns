# Programming Specification

## Naming and Comments

命名的好坏，对于代码的可读性来说非常重要，甚至可以说是起决定性作用的。命名能力也体现了一个程序员的基本编程素养。

> 对于影响范围比较大的命名，比如包名、接口、类名，一定要反复斟酌、推敲。实在想不到好名字的时候，可以去 GitHub 上用相关的关键词联想搜索一下，看看类似的代码是怎么命名的。

### 命名

命名的一个原则就是以能准确达意为目标。命名的时候，一定要学会换位思考，假设自己不熟悉这块代码，从代码阅读者的角度去考量命名是否足够直观。

#### 命名长度

- 用很长的命名方式，觉得命名一定要准确达意，哪怕长一点也没关系：尽管长的命名可以包含更多的信息，但是导致语句过长会影响代码的可读性
- 用短的命名方式，能用缩写就尽量用缩写：在足够表达其含义的情况下，命名当然是越短越好。
  - 对于一些默认的、大家都比较熟知的词，推荐用缩写
  - 对于作用域比较小的变量，使用相对短的命名
  - 对于类名这种作用域比较大的，推荐用长的命名方式

#### 利用上下文简化命名

如下面的例子：

```go
// 简化前
type User struct {
 UserName      string
 UserPassword  string
 UserAvatarURL string
}

// 简化后
type User struct {
 Name      string
 Password  string
 AvatarURL string
}


// 在使用这些属性时候，我们能借助对象这样一个上下文，表意也足够明确。

user := new(User)
user.Name
```

除了类之外，函数参数也可以借助函数这个上下文来简化命名。

```go
// 简化前
UploadUserAvatarImage(userAvatarImageUrl string)

// 简化后
UploadUserAvatarImage(imageUrl string)
```

#### 命名要可读，可搜索

- 可读：不要用一些特别生僻、难发音的英文单词来命名。
- 可搜索：在 IDE 中编写代码，经常会用“关键词联想”的方法来自动补全和搜索。所以，在命名的时候，最好能符合整个项目的命名习惯：
  - 大家都用“selectXXX”表示查询，就不要用“queryXXX”
  - 大家都用“insertXXX”表示插入一条数据，就要不用“addXXX”

统一规约是很重要的，能减少很多不必要的麻烦。

#### 命名接口和抽象类的方法

- 接口：一般有两种比较常见的方式。
  - 一种是加前缀“I”，表示一个 Interface。比如 IUserService，对应的实现类命名为 UserService。
  - 另一种是不加前缀，比如 UserService，对应的实现类加后缀“Impl”，比如 UserServiceImpl。
- 抽象类：有两种方式，
  - 一种是带上前缀“Abstract”，比如 AbstractConfiguration；
  - 另一种是不带前缀“Abstract”。

对于接口和抽象类，选择哪种命名方式都是可以的，只要项目里能够统一就行。

### 注释

命名很重要，注释跟命名同等重要。命名再好，毕竟有长度限制，不可能足够详尽，而这个时候，注释就是一个很好的补充。

#### 如何写注释

注释的目的就是让代码更容易看懂。只要符合这个要求的内容，你就可以将它写到注释里。总结一下，注释的内容主要包含这样三个方面：做什么、为什么、怎么做。

如下面的示例：

```go
// (what) Bean factory to create beans.
//
// (why) The class likes Spring IOC framework, but is more lightweight.
//
// (how) Create objects from different sources sequentially:
// user specified object > SPI > configuration > default object.
//
type BeansFactory struct {
 // ...
}
```

- 注释比代码承载的信息更多：命名的主要目的是解释“做什么”，函数和变量命名得好，可以不用在注释中解释它是做什么的。但是，对于类来说，包含的信息比较多，一个简单的命名就不够全面详尽了。这个时候，在注释中写明“做什么”就合情合理了。
- 注释起到总结性作用、文档的作用：代码之下无秘密。阅读代码可以知道如何实现，但是在注释中，关于具体的代码实现思路，可以写一些总结性的说明、特殊情况的说明。这样能够让阅读代码的人通过注释就能大概了解代码的实现思路，阅读起来就会更加容易。**对于有些比较复杂的类或者接口，我们可能还需要在注释中写清楚“如何用”**。
- 一些总结性注释能让代码结构更清晰：对于逻辑比较复杂的代码或者比较长的函数，如果不好提炼、不好拆分成小的函数调用，那我们可以借助总结性的注释来让代码结构更清晰、更有条理。

#### 注释的量

注释太多和太少都有问题。

- 太多，有可能意味着代码写得不够可读，需要写很多注释来补充。除此之外，注释太多也会对代码本身的阅读起到干扰。而且，后期的维护成本也比较高，代码改了，注释忘了同步修改，就会让代码阅读者更加迷惑。
- 太少，如果代码中一行注释都没有，那只能说明这个程序员很懒，要适当督促添加一些必要的注释。

一般来说，类和函数/方法一定要写注释，而且要写得尽可能全面、详细，而函数内部的注释要相对少一些，一般都是靠好的命名、提炼函数、解释性变量、总结性注释来提高代码的可读性。

## Code Style

## Coding Tips
